{
  "host": {
    "logLevel": "info",
    "container": {
      "mode": "daemon",
      "privileged": true,
      "daemonPollMs": 100,
      "instanceId": ""
    },
    "messageQueue": {
      "promptMaxChars": 24000
    },
    "concurrency": {
      "maxAgents": 4,
      "laneStarvationMs": 15000,
      "maxConsecutiveInteractive": 3
    },
    "metrics": {
      "port": 3001,
      "enabled": true
    },
    "dashboard": {
      "enabled": true,
      "port": 3002
    },
    "memory": {
      "recall": {
        "minScore": 0.35
      },
      "embeddings": {
        "enabled": true
      },
      "backend": {
        "strategy": "builtin",
        "modulePath": ""
      }
    },
    "routing": {
      "model": "moonshotai/kimi-k2.5",
      "fallbacks": ["anthropic/claude-sonnet-4-5", "openai/gpt-4.1"],
      "allowedModels": [],
      "maxOutputTokens": 0,
      "maxToolSteps": 200,
      "temperature": 0.6,
      "recallMaxResults": 8,
      "recallMaxTokens": 1500,
      "hostFailover": {
        "enabled": true,
        "maxRetries": 1
      }
    },
    "webhook": {
      "enabled": false,
      "port": 3003,
      "token": ""
    },
    "streaming": {
      "enabled": true,
      "chunkFlushIntervalMs": 120,
      "editIntervalMs": 400,
      "maxEditLength": 3800
    },
    "telegram": {
      "enabled": true
    },
    "discord": {
      "enabled": false
    },
    "toolBudgets": {
      "enabled": false
    }
  },
  "agent": {
    "assistantName": "Rain",
    "reasoning": { "effort": "medium" },
    "context": {
      "recentContextTokens": 0,
      "maxHistoryTurns": 40,
      "contextPruning": {
        "softTrimMaxChars": 4000,
        "softTrimHeadChars": 1500,
        "softTrimTailChars": 1500,
        "keepLastAssistant": 10
      }
    },
    "promptPacks": {
      "enabled": true
    },
    "tools": {
      "enableBash": true,
      "enableWebSearch": true,
      "enableWebFetch": true,
      "completionGuard": {
        "idempotentRetryAttempts": 2,
        "idempotentRetryBackoffMs": 500,
        "repeatedSignatureThreshold": 3,
        "repeatedRoundThreshold": 2,
        "nonRetryableFailureThreshold": 3,
        "forceSynthesisAfterTools": true
      },
      "bash": {
        "timeoutMs": 600000
      },
      "process": {
        "maxSessions": 16,
        "maxOutputBytes": 1048576,
        "defaultTimeoutMs": 1800000
      }
    },
    "tts": {
      "provider": "edge-tts",
      "openaiModel": "tts-1",
      "openaiVoice": "alloy"
    },
    "mcp": {
      "enabled": false,
      "servers": []
    }
  }
}
